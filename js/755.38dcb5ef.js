"use strict";(self["webpackChunkmeme_shop"]=self["webpackChunkmeme_shop"]||[]).push([[755],{7755:function(t,r,e){e.r(r),e.d(r,{default:function(){return w}});var s=e(6252),i=e(9963),a=e(3577);const c={class:"productView"},o=(0,s._)("i",{class:"bi bi-bag-heart"},null,-1),l={key:0,class:"bi bi-suit-heart-fill"},d={class:"productList"},u={class:"products"},n={class:"card-body"},h={class:"card-title"},p=(0,s.Uk)("了解更多"),k=["onClick"],_=(0,s._)("i",{class:"bi bi-bag-heart"},null,-1),f=[_],g={key:0,class:"bi bi-suit-heart-fill"};function b(t,r,e,_,b,v){const m=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(m,{to:"/cart",class:"cart"},{default:(0,s.w5)((()=>[o,0!==b.cart.length?((0,s.wg)(),(0,s.iD)("i",l)):(0,s.kq)("",!0)])),_:1}),(0,s._)("nav",d,[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:r[0]||(r[0]=(0,i.iM)((t=>v.renderProducts("全部")),["prevent"]))},"全部")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:r[1]||(r[1]=(0,i.iM)((t=>v.renderProducts("程式")),["prevent"]))},"程式梗")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:r[2]||(r[2]=(0,i.iM)((t=>v.renderProducts("工作")),["prevent"]))},"工作梗")]),(0,s._)("li",null,[(0,s._)("a",{href:"#",onClick:r[3]||(r[3]=(0,i.iM)((t=>v.renderProducts("生活")),["prevent"]))},"生活梗")])])]),(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(b.temproducts,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"card"},[(0,s._)("div",{class:"card-img-top",style:(0,a.j5)({backgroundImage:"url("+t.imageUrl+")"})},null,4),(0,s._)("div",n,[(0,s._)("h2",h,(0,a.zw)(t.title),1),(0,s.Wm)(m,{to:`/product/${t.id}`,class:"btn"},{default:(0,s.w5)((()=>[p])),_:2},1032,["to"]),(0,s._)("a",{href:"#",class:"productCart",onClick:(0,i.iM)((r=>v.addCart(t)),["prevent"])},f,8,k),v.findTitle(t.title)?((0,s.wg)(),(0,s.iD)("i",g)):(0,s.kq)("",!0)])])))),128))])])}var v={data(){return{products:[],temproducts:[],cart:[]}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/qianjia-api/products/all";this.$http.get(t).then((t=>{this.products=t.data.products,this.renderProducts("全部")}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/qianjia-api/cart";this.$http.get(t).then((t=>{this.cart=t.data.data.carts}))},renderProducts(t){switch(t){case"全部":this.temproducts=this.products;break;case"程式":this.temproducts=this.products.filter((t=>"程式"===t.category));break;case"工作":this.temproducts=this.products.filter((t=>"工作"===t.category));break;case"生活":this.temproducts=this.products.filter((t=>"生活"===t.category));break}},addCart(t){const r="https://vue3-course-api.hexschool.io/api/qianjia-api/cart";this.$http.post(r,{data:{product_id:t.id,qty:1}}).then((r=>{this.cart.push(t)}))},findTitle(t){const r=this.cart.find((r=>r.product.title===t));return!!r}},created(){this.getProducts(),this.getCart()}},m=e(3744);const C=(0,m.Z)(v,[["render",b]]);var w=C}}]);
//# sourceMappingURL=755.38dcb5ef.js.map