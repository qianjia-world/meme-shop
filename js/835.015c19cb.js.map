{"version":3,"file":"js/835.015c19cb.js","mappings":"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","sources":["webpack://meme-shop/./src/views/Home/CartView.vue","webpack://meme-shop/./src/views/Home/CartView.vue?9117"],"sourcesContent":["<template>\r\n<div class=\"table-responsive cartView\">\r\n  <h1>您的迷因清單</h1>\r\n  <table v-if=\"carts.length !== 0\" class=\"table table-light table-hover\">\r\n    <thead>\r\n      <tr class=\"list\">\r\n        <th scope=\"col\">圖片</th>\r\n        <th scope=\"col\">標題</th>\r\n        <th scope=\"col\" class=\"hide\">單位</th>\r\n        <th scope=\"col\" class=\"hide\">原價</th>\r\n        <th scope=\"col\" class=\"hide\">特價</th>\r\n        <th scope=\"col\">數量</th>\r\n        <th scope=\"col\">總價</th>\r\n        <th scope=\"col\" class=\"text-center\">刪除</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(item, key) in carts\" :key=\"key\">\r\n        <td class=\"img align-middle\">\r\n          <div class=\"image\" :style=\"{backgroundImage:'url('+item.product.imageUrl+')'}\"></div>\r\n        </td>\r\n        <td class=\"align-middle\">{{item.product.title}}</td>\r\n        <td class=\"align-middle hide\">{{item.product.unit}}</td>\r\n        <td class=\"align-middle hide\">{{item.product.origin_price}}</td>\r\n        <td class=\"align-middle hide\">{{item.product.price}}</td>\r\n        <td class=\"align-middle\">\r\n          <input type=\"number\" @change=\"updateCart(item)\" v-model=\"item.qty\"></td>\r\n        <td class=\"align-middle\">{{item.final_total}}</td>\r\n        <td class=\"align-middle text-center\" >\r\n          <a href=\"#\" @click.prevent=\"deleteCart(item)\">\r\n            <i class=\"bi bi-x-square-fill\"></i>\r\n          </a>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n    <tfoot>\r\n    <tr>\r\n      <td class=\"align-middle\">總計</td>\r\n      <td class=\"align-middle\"></td>\r\n      <td class=\"align-middle hide\"></td>\r\n      <td class=\"align-middle hide\">{{ add ('origin_price', 'product') }}</td>\r\n      <td class=\"align-middle hide\">{{ add ('price', 'product') }}</td>\r\n      <td class=\"align-middle\">{{ add ('qty') }}</td>\r\n      <td class=\"align-middle\">{{ add ('final_total') }}</td>\r\n      <td class=\"align-middle text-center\">\r\n        <a class=\"pay\" href=\"#\" @click.prevent=\"goShop\">\r\n          <i class=\"bi bi-coin\"></i>\r\n        </a>\r\n      </td>\r\n    </tr>\r\n    </tfoot>\r\n  </table>\r\n  <div v-else class=\"noCart\">\r\n    <h2>您的清單還是空的，再去看看吧!</h2>\r\n    <img src=\"../../../src/assets/yaa.webp\" alt=\"\">\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      carts: []\r\n    }\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(api).then((res) => {\r\n        this.carts = res.data.data.carts\r\n      })\r\n    },\r\n    add (value, product) {\r\n      if (!this.carts.length) return // 時間問題而產生的補丁，之後要找到一個更好的寫法\r\n      if (product) {\r\n        const objarray = this.carts.map(item => item.product[value])\r\n        return objarray.reduce((a, b) => a + b)\r\n      } else {\r\n        const objarray = this.carts.map(item => item[value])\r\n        return objarray.reduce((a, b) => a + b)\r\n      }\r\n    },\r\n    deleteCart (item) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.$http.delete(api).then((res) => {\r\n        this.getCart()\r\n      })\r\n    },\r\n    goShop () {\r\n      this.$router.push('/order')\r\n    },\r\n    updateCart (item) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.$http.put(api, { data: { product_id: item.id, qty: item.qty } }).then((res) => {\r\n        this.getCart()\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.cartView{\r\n  background-color: #492c05;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: calc(100vh - 136px);\r\n  padding: 2%;\r\n  h1{\r\n    text-align:center;\r\n    font-size: 2rem;\r\n    color: antiquewhite;\r\n    padding: 30px 0;\r\n  }\r\n  .table{\r\n    width: 95%;\r\n    margin: 0 auto;\r\n    .list th{\r\n      white-space:nowrap;\r\n    }\r\n    .align-middle{\r\n      width: 9%;\r\n      input{\r\n        width: 100%;\r\n      }\r\n    }\r\n    .img{\r\n      width: 30%;\r\n      .image{\r\n      height: 200px;\r\n      border: 1px solid #492c05;\r\n      background-position: center center;\r\n      background-size: cover;\r\n      }\r\n    }\r\n    .bi-x-square-fill{\r\n      font-size: 30px;\r\n      color: #492c05;\r\n    }\r\n    .pay{\r\n      font-size: 45px;\r\n      color: #492c05;\r\n    }\r\n  }\r\n  .noCart{\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    background-color: antiquewhite;\r\n    padding: 3%;\r\n    outline: 2px solid #492c05;\r\n    outline-offset: -10px;\r\n    h2{\r\n      font-size: 30px;\r\n      margin-bottom: 10px;\r\n      text-align: center;\r\n      color: #492c05;;\r\n    }\r\n    img{\r\n      display: block;\r\n      height: auto;\r\n      margin: 0 auto;\r\n      background-position: center center;\r\n      width: 75%;\r\n    }\r\n  }\r\n  @media (max-width:655px) {\r\n    .table{\r\n      .hide{\r\n        display: none;\r\n      }\r\n      .align-middle{\r\n        width: 10%;\r\n      }\r\n      .img{\r\n        width: 50%;\r\n      }\r\n    }\r\n  }\r\n  @media (max-width:485px) {\r\n    .table{\r\n      .align-middle{\r\n        width: 12%;\r\n      }\r\n      .img{\r\n        width: 12%;\r\n        .image{\r\n        height: 80px;}\r\n      }\r\n    }\r\n  }\r\n  @media (max-width:510px) {\r\n    min-height: calc(100vh - 102px);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CartView.vue?vue&type=template&id=9b6876e2\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport \"./CartView.vue?vue&type=style&index=0&id=9b6876e2&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\meme-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","_hoisted_15","_hoisted_25","src","_imports_0","alt","_hoisted_28","_hoisted_29","_createElementBlock","_hoisted_2","$data","length","_hoisted_4","_Fragment","_renderList","item","key","style","backgroundImage","product","imageUrl","_toDisplayString","title","unit","origin_price","price","type","onChange","$options","qty","$event","final_total","href","onClick","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_30","data","carts","methods","getCart","api","this","$http","get","then","res","add","value","objarray","map","reduce","a","b","deleteCart","id","delete","goShop","$router","push","updateCart","put","product_id","created","__exports__","render"],"sourceRoot":""}