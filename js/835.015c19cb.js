"use strict";(self["webpackChunkmeme_shop"]=self["webpackChunkmeme_shop"]||[]).push([[835],{5137:function(t,e,l){l.r(e),l.d(e,{default:function(){return E}});var a=l(6252),i=l(3577),s=l(9963),d=l.p+"img/yaa.8214b7cd.webp";const c={class:"table-responsive cartView"},n=(0,a._)("h1",null,"您的迷因清單",-1),r={key:0,class:"table table-light table-hover"},o=(0,a._)("thead",null,[(0,a._)("tr",{class:"list"},[(0,a._)("th",{scope:"col"},"圖片"),(0,a._)("th",{scope:"col"},"標題"),(0,a._)("th",{scope:"col",class:"hide"},"單位"),(0,a._)("th",{scope:"col",class:"hide"},"原價"),(0,a._)("th",{scope:"col",class:"hide"},"特價"),(0,a._)("th",{scope:"col"},"數量"),(0,a._)("th",{scope:"col"},"總價"),(0,a._)("th",{scope:"col",class:"text-center"},"刪除")])],-1),h={class:"img align-middle"},p={class:"align-middle"},u={class:"align-middle hide"},_={class:"align-middle hide"},g={class:"align-middle hide"},m={class:"align-middle"},w=["onChange","onUpdate:modelValue"],b={class:"align-middle"},C={class:"align-middle text-center"},f=["onClick"],y=(0,a._)("i",{class:"bi bi-x-square-fill"},null,-1),v=[y],k=(0,a._)("td",{class:"align-middle"},"總計",-1),q=(0,a._)("td",{class:"align-middle"},null,-1),z=(0,a._)("td",{class:"align-middle hide"},null,-1),x={class:"align-middle hide"},$={class:"align-middle hide"},D={class:"align-middle"},j={class:"align-middle"},S={class:"align-middle text-center"},U=(0,a._)("i",{class:"bi bi-coin"},null,-1),V=[U],M={key:1,class:"noCart"},H=(0,a._)("h2",null,"您的清單還是空的，再去看看吧!",-1),I=(0,a._)("img",{src:d,alt:""},null,-1),K=[H,I];function Y(t,e,l,d,y,U){return(0,a.wg)(),(0,a.iD)("div",c,[n,0!==y.carts.length?((0,a.wg)(),(0,a.iD)("table",r,[o,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.carts,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",h,[(0,a._)("div",{class:"image",style:(0,i.j5)({backgroundImage:"url("+t.product.imageUrl+")"})},null,4)]),(0,a._)("td",p,(0,i.zw)(t.product.title),1),(0,a._)("td",u,(0,i.zw)(t.product.unit),1),(0,a._)("td",_,(0,i.zw)(t.product.origin_price),1),(0,a._)("td",g,(0,i.zw)(t.product.price),1),(0,a._)("td",m,[(0,a.wy)((0,a._)("input",{type:"number",onChange:e=>U.updateCart(t),"onUpdate:modelValue":e=>t.qty=e},null,40,w),[[s.nr,t.qty]])]),(0,a._)("td",b,(0,i.zw)(t.final_total),1),(0,a._)("td",C,[(0,a._)("a",{href:"#",onClick:(0,s.iM)((e=>U.deleteCart(t)),["prevent"])},v,8,f)])])))),128))]),(0,a._)("tfoot",null,[(0,a._)("tr",null,[k,q,z,(0,a._)("td",x,(0,i.zw)(U.add("origin_price","product")),1),(0,a._)("td",$,(0,i.zw)(U.add("price","product")),1),(0,a._)("td",D,(0,i.zw)(U.add("qty")),1),(0,a._)("td",j,(0,i.zw)(U.add("final_total")),1),(0,a._)("td",S,[(0,a._)("a",{class:"pay",href:"#",onClick:e[0]||(e[0]=(0,s.iM)(((...t)=>U.goShop&&U.goShop(...t)),["prevent"]))},V)])])])])):((0,a.wg)(),(0,a.iD)("div",M,K))])}var Z={data(){return{carts:[]}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/qianjia-api/cart";this.$http.get(t).then((t=>{this.carts=t.data.data.carts}))},add(t,e){if(this.carts.length){if(e){const e=this.carts.map((e=>e.product[t]));return e.reduce(((t,e)=>t+e))}{const e=this.carts.map((e=>e[t]));return e.reduce(((t,e)=>t+e))}}},deleteCart(t){const e=`https://vue3-course-api.hexschool.io/api/qianjia-api/cart/${t.id}`;this.$http.delete(e).then((t=>{this.getCart()}))},goShop(){this.$router.push("/order")},updateCart(t){const e=`https://vue3-course-api.hexschool.io/api/qianjia-api/cart/${t.id}`;this.$http.put(e,{data:{product_id:t.id,qty:t.qty}}).then((t=>{this.getCart()}))}},created(){this.getCart()}},A=l(3744);const B=(0,A.Z)(Z,[["render",Y]]);var E=B}}]);
//# sourceMappingURL=835.015c19cb.js.map