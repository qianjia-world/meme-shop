{"version":3,"file":"js/528.8af07de5.js","mappings":"+LAEAA,EAAAA,EAAAA,GAEM,OAFDC,MAAM,sBAAoB,EAC7BD,EAAAA,EAAAA,GAA6D,UAArDC,MAAM,kBAAkBC,KAAK,UAAS,YADhD,G,GAGOD,MAAM,S,GACXD,EAAAA,EAAAA,GAUQ,eATNA,EAAAA,EAAAA,GAQK,YAPHA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAW,UAAP,OACJA,EAAAA,EAAAA,GAAc,UAAV,aARR,G,GAmBQC,MAAM,c,0CAxBhBE,EAAAA,EAAAA,IA6BO,aA5BPC,GAGAJ,EAAAA,EAAAA,GAwBQ,QAxBR,EAwBQ,CAvBNK,GAWAL,EAAAA,EAAAA,GAWQ,6BAVNG,EAAAA,EAAAA,IASKG,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IATqBC,EAAAA,QAAM,CAApBC,EAAMC,M,WAAlBP,EAAAA,EAAAA,IASK,MAT8BO,IAAKD,EAAKE,IAA7C,EACEX,EAAAA,EAAAA,GAAoB,WAAAY,EAAAA,EAAAA,IAAbF,EAAG,OACVV,EAAAA,EAAAA,GAA6B,WAAAY,EAAAA,EAAAA,IAAtBH,EAAKI,KAAKC,MAAI,IACrBd,EAAAA,EAAAA,GAA4C,WAAAY,EAAAA,EAAAA,IAArCG,EAAAA,SAASC,KAAKP,EAAKQ,YAAS,IACnCjB,EAAAA,EAAAA,GAAsB,WAAAY,EAAAA,EAAAA,IAAfH,EAAKE,IAAE,IACdX,EAAAA,EAAAA,GAA2C,WAAAY,EAAAA,EAAAA,IAApCH,EAAKS,QAAO,iBACnBlB,EAAAA,EAAAA,GAA2B,WAAAY,EAAAA,EAAAA,IAApBH,EAAKU,SAAO,IACnBnB,EAAAA,EAAAA,GACK,KADL,GACKY,EAAAA,EAAAA,IADqBH,EAAKW,OAAK,QAPtC,YAiBJ,OACEC,OACE,MAAO,CACLC,OAAQ,GACRC,WAAY,KAGhBC,QAAS,CACPC,UAAWC,EAAO,GAChB,MAAMC,EAAO,0EAA8ED,IAC3FE,KAAKC,MAAMC,IAAIH,GAAKI,MAAMC,IACpBA,EAAIX,KAAKY,UACXL,KAAKN,OAASU,EAAIX,KAAKC,OACvBM,KAAKL,WAAaS,EAAIX,KAAKE,WAC3BW,QAAQC,IAAIP,KAAKN,aAIvBc,UAAWC,EAAO5B,GAEdmB,KAAKU,QADHD,EACa,GAEA,IAAK5B,GAEtBmB,KAAKW,MAAQF,EACb,MAAMG,EAAOZ,KAAKa,MAAMC,UACxBF,EAAKG,aAEPC,YAAaC,GACXjB,KAAKU,QAAUO,EACf,IAAIlB,EAAO,qEACPmB,EAAa,OAEZlB,KAAKW,QACRZ,EAAO,sEAA0EkB,EAAKlC,KACtFmC,EAAa,OAEf,MAAMN,EAAOZ,KAAKa,MAAMC,UAExBd,KAAKC,MAAMiB,GAAYnB,EAAK,CAAEN,KAAMO,KAAKU,UACtCP,MAAMC,IACLQ,EAAKO,YACDf,EAAIX,KAAKY,SACXL,KAAKoB,eAIbC,gBAAiBxC,GACfmB,KAAKU,QAAU,IAAK7B,GACpB,MAAMyC,EAAetB,KAAKa,MAAMU,SAChCD,EAAaP,aAEfS,aACE,MAAMzB,EAAO,sEAA0EC,KAAKU,QAAQ3B,KACpGiB,KAAKC,MAAMwB,OAAO1B,GAAKI,MAAMC,IAC3B,MAAMkB,EAAetB,KAAKa,MAAMU,SAChCD,EAAaH,YACTf,EAAIX,KAAKY,SACXL,KAAKoB,gBAMbM,UACE1B,KAAKH,c,UC/FT,MAAM8B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://meme-shop/./src/views/Admin/AdminOrders.vue","webpack://meme-shop/./src/views/Admin/AdminOrders.vue?8e2c"],"sourcesContent":["<template>\r\n<main>\r\n<div class=\"text-end mt-2 me-2\">\r\n  <button class=\"btn btn-primary\" type=\"button\">刪除全部訂單</button>\r\n</div>\r\n<table class=\"table\">\r\n  <thead>\r\n    <tr>\r\n      <th>訂單筆數</th>\r\n      <th>客戶名稱</th>\r\n      <th>建立日期</th>\r\n      <th>訂單追蹤</th>\r\n      <th>繳費狀態</th>\r\n      <th>訊息</th>\r\n      <th>訂單總金額</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr v-for=\"(item, key) in orders\" :key=\"item.id\" >\r\n      <td>{{ key+1 }}</td>\r\n      <td>{{ item.user.name }}</td>\r\n      <td>{{ $filters.date(item.create_at) }}</td>\r\n      <td>{{ item.id }}</td>\r\n      <td>{{ item.is_paid ? '已繳費' : '未付款' }}</td>\r\n      <td>{{ item.message }}</td>\r\n      <td class=\"text-right\">{{ item.total }}\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n</main>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      pagination: {}\r\n    }\r\n  },\r\n  methods: {\r\n    getOrders (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.$http.get(api).then((res) => {\r\n        if (res.data.success) {\r\n          this.orders = res.data.orders\r\n          this.pagination = res.data.pagination\r\n          console.log(this.orders)\r\n        }\r\n      })\r\n    },\r\n    openModal (isnew, item) {\r\n      if (isnew) {\r\n        this.nowgood = {}\r\n      } else {\r\n        this.nowgood = { ...item }\r\n      }\r\n      this.isNew = isnew\r\n      const open = this.$refs.editModal\r\n      open.showModal()\r\n    },\r\n    updateGoods (good) {\r\n      this.nowgood = good\r\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let httpMethod = 'post'\r\n      // 上下是在調整api，預設是新增，用上方那個；如果不是新增而是調整，改用下方的\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${good.id}`\r\n        httpMethod = 'put'\r\n      }\r\n      const open = this.$refs.editModal\r\n\r\n      this.$http[httpMethod](api, { data: this.nowgood })\r\n        .then((res) => {\r\n          open.hideModal()\r\n          if (res.data.success) {\r\n            this.getGoods()\r\n          }\r\n        })\r\n    },\r\n    openDeleteModal (item) {\r\n      this.nowgood = { ...item }\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.showModal()\r\n    },\r\n    DeleteGood () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.nowgood.id}`\r\n      this.$http.delete(api).then((res) => {\r\n        const delComponent = this.$refs.delModal\r\n        delComponent.hideModal()\r\n        if (res.data.success) {\r\n          this.getGoods()\r\n        }\r\n      })\r\n    }\r\n\r\n  },\r\n  created () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./AdminOrders.vue?vue&type=template&id=6bb21615\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\meme-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","type","_createElementBlock","_hoisted_1","_hoisted_3","_Fragment","_renderList","$data","item","key","id","_toDisplayString","user","name","_ctx","date","create_at","is_paid","message","total","data","orders","pagination","methods","getOrders","page","api","this","$http","get","then","res","success","console","log","openModal","isnew","nowgood","isNew","open","$refs","editModal","showModal","updateGoods","good","httpMethod","hideModal","getGoods","openDeleteModal","delComponent","delModal","DeleteGood","delete","created","__exports__","render"],"sourceRoot":""}